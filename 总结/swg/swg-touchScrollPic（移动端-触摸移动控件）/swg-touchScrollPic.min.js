/**
 * Created by sunwg on 2015/11/24.
 */
swg=typeof swg!="undefined"?swg:{};swg.initTouchScrollPic=function(){var b=function(h){return h["touches"][0]?h["touches"][0].clientX:h["changedTouches"][0].clientX};var e=function(h){if(h===""){return 0}else{return h.replace("px","")*1}};var g=function(h){return h+"px"};function f(j,i,k){var h=i-e(j.style.marginLeft);var l=Math.abs(h);j.swgAnimateInterval=setInterval(function(){var m=l/50>k?l/50:k;l-=m;m=h>0?m:-m;var n=e(j.style.marginLeft)+m;if(h>0&&n>i||h<0&&n<i){n=i}j.style.marginLeft=g(n);if(l<=0){clearInterval(j.swgAnimateInterval)}},1)}var a=function(i,h,j){if(i<h){i=h}else{if(i>j){i=j}}return i};var d=document.querySelectorAll(".swg-touchScrollPic");for(var c=0;c<d.length;c++){(function(){var l=d[c];var m,h,i;var n=l.querySelector("ul");if(n.clientWidth<=l.clientWidth){return}var q=n.querySelectorAll("li");for(var k=0;k<q.length;k++){var p=q[k];p.style.width=g(p.clientWidth)}var o=l.clientWidth-n.clientWidth;l.addEventListener("touchstart",function(j){clearInterval(n.swgAnimateInterval);m=h=b(j);i=new Date()},false);l.addEventListener("touchmove",function(j){var s=b(j)-h;var r=e(n.style.marginLeft)+s;r=a(r,o,0);n.style.marginLeft=g(r);h=b(j);j.preventDefault()},false);l.addEventListener("touchend",function(r){var t=b(r)-m;var s=new Date()-i;if(s<300){var j=a(e(n.style.marginLeft)+t*5,o,0);f(n,j,1)}h=undefined},false)})()}};window.addEventListener("load",swg.initTouchScrollPic,false);